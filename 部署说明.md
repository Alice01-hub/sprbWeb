# Summer Pockets å·¡ç¤¼ç½‘ç«™ - å…¬ç½‘éƒ¨ç½²è¯´æ˜

## ğŸŒ å…¬ç½‘è®¿é—®åœ°å€

**åŸŸå**: `sprb.love`  
**æœåŠ¡å™¨IP**: `8.148.187.117`

### ä¸»è¦æœåŠ¡ (HTTPSåŸŸåè®¿é—®)
- **ä¸»ç½‘ç«™**: https://sprb.love âœ…
- **ä¸»åç«¯API**: https://sprb.love/api/ âœ…
- **åå°ç®¡ç†**: https://sprb.love/admin/ âœ…
- **åå°ç®¡ç†API**: https://sprb.love/admin-api/ âœ…

### å¤‡ç”¨IPè®¿é—®
- **ä¸»ç½‘ç«™**: http://8.148.187.117
- **ä¸»åç«¯API**: http://8.148.187.117/api/
- **åå°ç®¡ç†**: http://8.148.187.117/admin/
- **åå°ç®¡ç†API**: http://8.148.187.117/admin-api/

### ç›´æ¥ç«¯å£è®¿é—® (å¼€å‘è°ƒè¯•ç”¨)
- **ä¸»å‰ç«¯**: http://8.148.187.117:3000
- **ä¸»åç«¯API**: http://8.148.187.117:8000
- **åå°ç®¡ç†å‰ç«¯**: http://8.148.187.117:3001
- **åå°ç®¡ç†API**: http://8.148.187.117:8001

### APIæ–‡æ¡£
- **ä¸»APIæ–‡æ¡£**: https://sprb.love/api/docs (æˆ– http://8.148.187.117:8000/docs)
- **åå°APIæ–‡æ¡£**: https://sprb.love/admin-api/docs (æˆ– http://8.148.187.117:8001/docs)

## ğŸš€ éƒ¨ç½²çŠ¶æ€

âœ… **éƒ¨ç½²æˆåŠŸ** - æ‰€æœ‰æœåŠ¡å·²æˆåŠŸéƒ¨ç½²åˆ°å…¬ç½‘

### æœåŠ¡çŠ¶æ€
- âœ… Nginxåå‘ä»£ç† - ç«¯å£ 80/443 (åŸŸå: sprb.love, SSLè¯ä¹¦)
- âœ… ä¸»å‰ç«¯ (React ç”Ÿäº§æ„å»º) - ç«¯å£ 3000
- âœ… ä¸»åç«¯ (FastAPI) - ç«¯å£ 8000  
- âœ… åå°ç®¡ç†å‰ç«¯ (React) - ç«¯å£ 3001
- âœ… åå°ç®¡ç†API (FastAPI) - ç«¯å£ 8001

## ğŸ”§ æŠ€æœ¯é…ç½®

### ç½‘ç»œé…ç½®
- **åŸŸå**: sprb.love â†’ 8.148.187.117
- **SSLè¯ä¹¦**: Let's Encrypt (è‡ªåŠ¨ç»­æœŸ)
- **ç›‘å¬åœ°å€**: 0.0.0.0 (æ‰€æœ‰ç½‘ç»œæ¥å£)
- **åå‘ä»£ç†**: Nginx (ç«¯å£80/443) â†’ å„æœåŠ¡ç«¯å£
- **HTTPSé‡å®šå‘**: HTTPè‡ªåŠ¨é‡å®šå‘åˆ°HTTPS
- **å‰ç«¯éƒ¨ç½²**: ç”Ÿäº§æ„å»º (é™æ€æ–‡ä»¶æœåŠ¡)
- **é˜²ç«å¢™**: å·²é…ç½®å…è®¸ç›¸å…³ç«¯å£è®¿é—®
- **CORS**: å·²é…ç½®å…è®¸è·¨åŸŸè®¿é—®

### ç¯å¢ƒä¿¡æ¯
- **æ“ä½œç³»ç»Ÿ**: Linux Ubuntu 22.04
- **Python**: 3.9 (condaç¯å¢ƒ: sprbWeb)
- **Node.js**: v18.20.8
- **æ•°æ®åº“**: SQLite

## ğŸ“‹ ç®¡ç†å‘½ä»¤

### å¯åŠ¨æœåŠ¡
```bash
cd /root/workspace/sprbWeb
./start.sh
```

### åœæ­¢æœåŠ¡
```bash
cd /root/workspace/sprbWeb
./stop.sh
```

### æŸ¥çœ‹æ—¥å¿—
```bash
cd /root/workspace/sprbWeb
tail -f backend.log frontend.log admin_backend.log admin_frontend.log
```

### Nginxå’ŒSSLç®¡ç†
```bash
./nginx-manage.sh status     # æŸ¥çœ‹çŠ¶æ€
./nginx-manage.sh restart    # é‡å¯æœåŠ¡
./nginx-manage.sh reload     # é‡æ–°åŠ è½½é…ç½®
./nginx-manage.sh ssl-status # æŸ¥çœ‹SSLè¯ä¹¦çŠ¶æ€
./nginx-manage.sh ssl-renew  # æ‰‹åŠ¨ç»­æœŸSSLè¯ä¹¦
```

### æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
# æ£€æŸ¥æ‰€æœ‰ç«¯å£
netstat -tlnp | grep -E ":(80|443|3000|8000|3001|8001)"

# æ£€æŸ¥åº”ç”¨è¿›ç¨‹
ps aux | grep -E "(uvicorn|node|nginx)" | grep -v grep

# æ£€æŸ¥nginxçŠ¶æ€
systemctl status nginx

# æµ‹è¯•HTTPSè®¿é—®
curl -I https://sprb.love
curl https://sprb.love/api/health

# æµ‹è¯•HTTPé‡å®šå‘
curl -I http://sprb.love

# æµ‹è¯•IPè®¿é—®
curl -I http://8.148.187.117
curl http://8.148.187.117/api/health
```

## ğŸ› ï¸ ç»´æŠ¤è¯´æ˜

### é‡å¯æœåŠ¡
å¦‚æœéœ€è¦é‡å¯æœåŠ¡ï¼Œæ‰§è¡Œï¼š
```bash
./stop.sh && ./start.sh
```

### æ›´æ–°ä»£ç 
å¦‚æœéœ€è¦æ›´æ–°ä»£ç ï¼š
```bash
git pull origin main
./stop.sh
./start.sh
```

### æ•°æ®åº“å¤‡ä»½
æ•°æ®åº“æ–‡ä»¶ä½äºï¼š
- ä¸»æ•°æ®åº“: `backend/data/shenyu.db`
- äº¤é€šæ•°æ®: `backend/data/traffic_cards.db`

å»ºè®®å®šæœŸå¤‡ä»½è¿™äº›æ–‡ä»¶ã€‚

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç«¯å£è®¿é—®**: å½“å‰æ‰€æœ‰ç«¯å£éƒ½å¯¹å…¬ç½‘å¼€æ”¾ï¼Œå»ºè®®æ ¹æ®éœ€è¦é…ç½®é˜²ç«å¢™è§„åˆ™
2. **æ•°æ®åº“å®‰å…¨**: SQLiteæ•°æ®åº“æ–‡ä»¶éœ€è¦å®šæœŸå¤‡ä»½
3. **æ—¥å¿—ç®¡ç†**: å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶ï¼Œé¿å…ç£ç›˜ç©ºé—´ä¸è¶³
4. **ä¾èµ–æ›´æ–°**: å®šæœŸæ›´æ–°Pythonå’ŒNode.jsä¾èµ–åŒ…

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æ’æŸ¥é—®é¢˜
2. æ£€æŸ¥æœåŠ¡è¿›ç¨‹çŠ¶æ€
3. éªŒè¯ç½‘ç»œè¿æ¥å’Œç«¯å£çŠ¶æ€
4. é‡å¯ç›¸å…³æœåŠ¡

---

**éƒ¨ç½²æ—¶é—´**: 2025å¹´8æœˆ4æ—¥  
**éƒ¨ç½²çŠ¶æ€**: âœ… æˆåŠŸ  
**æœ€åæ›´æ–°**: 2025å¹´8æœˆ4æ—¥ 20:17 UTC+8